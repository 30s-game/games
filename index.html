<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Partner's 360 Custom Arcade</title>
    <style>
        :root { --bg: #050505; --accent: #00ffcc; }
        body { background: var(--bg); color: white; font-family: 'Courier New', monospace; margin: 0; padding: 20px; overflow-x: hidden; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 15px; }
        .card { background: #111; border: 1px solid #333; border-radius: 8px; cursor: pointer; transition: 0.3s; padding: 10px; text-align: center; }
        .card:hover { border-color: var(--accent); transform: translateY(-5px); box-shadow: 0 0 15px var(--accent); }
        .card .icon { font-size: 40px; margin-bottom: 10px; }
        
        /* ê²Œì„ ë·°ì–´ - ë°°ê²½ í´ë¦­í•´ë„ ì•ˆ êº¼ì§ */
        #game-view { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 1000; flex-direction: column; align-items: center; justify-content: center; }
        canvas { background: #000; border: 3px solid var(--accent); max-width: 90%; max-height: 70vh; }
        .controls { margin-top: 20px; text-align: center; }
        .exit-btn { background: #ff4757; color: white; border: none; padding: 15px 40px; border-radius: 30px; cursor: pointer; font-size: 18px; font-weight: bold; }
        .instruction { color: var(--accent); margin-bottom: 10px; font-size: 14px; }
    </style>
</head>
<body>

<h1 style="text-align:center; color:var(--accent);">360 NATIVE JS ARCADE</h1>
<p style="text-align:center;">ì™¸ë¶€ ë§í¬ ì—†ìŒ! 100% ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ êµ¬ë™ë˜ëŠ” 360ê°€ì§€ ëª¨ë“œ</p>

<div class="grid" id="gameGrid"></div>

<div id="game-view">
    <h2 id="game-name">Game Name</h2>
    <div class="instruction">í™”ë©´ì„ í´ë¦­/í„°ì¹˜í•˜ê±°ë‚˜ í™”ì‚´í‘œ í‚¤ë¡œ ì¡°ì‘í•´!</div>
    <canvas id="gameCanvas"></canvas>
    <div class="controls">
        <button class="exit-btn" onclick="stopGame()">ê²Œì„ ì¢…ë£Œ (EXIT)</button>
    </div>
</div>

<script>
    const grid = document.getElementById('gameGrid');
    const view = document.getElementById('game-view');
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const gName = document.getElementById('game-name');

    let animationId;
    let gameState = {};

    // 360ê°œ ê²Œì„ ìƒì„±
    for (let i = 1; i <= 360; i++) {
        const card = document.createElement('div');
        card.className = 'card';
        // ì•„ì´ì½˜ì€ ë²ˆí˜¸ì— ë”°ë¼ ëœë¤í•˜ê²Œ (FPS, Racing, Shooter ëŠë‚Œ)
        const icons = ['ğŸš€', 'ğŸ”«', 'ğŸï¸', 'ğŸ‘¾', 'ğŸ¾', 'ğŸ›¡ï¸'];
        const icon = icons[i % icons.length];
        
        card.innerHTML = `<div class="icon">${icon}</div><div>Mission #${i}</div>`;
        card.onclick = () => startGame(i);
        grid.appendChild(card);
    }

    function startGame(id) {
        view.style.display = 'flex';
        gName.innerText = `Battle Mission #${id}`;
        initGame(id);
        loop();
    }

    function initGame(id) {
        canvas.width = 600;
        canvas.height = 400;
        
        // idë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê²Œì„ ì„±ê²© ê²°ì • (ì†ë„, í¬ê¸° ë“±)
        gameState = {
            id: id,
            player: { x: 50, y: 200, size: 20, color: `hsl(${id * 137}, 70%, 50%)` },
            enemies: [],
            score: 0,
            speed: 2 + (id % 10), // idì— ë”°ë¼ ì†ë„ ë‹¤ë¦„
            difficulty: (id % 5) + 1,
            frame: 0
        };

        // ì…ë ¥ ë¦¬ìŠ¤ë„ˆ
        window.onkeydown = (e) => {
            if(e.key === 'ArrowUp') gameState.player.y -= 20;
            if(e.key === 'ArrowDown') gameState.player.y += 20;
        };
        canvas.onclick = () => { gameState.player.y -= 40; }; // í´ë¦­ ì‹œ ì í”„ (FPS/Flappy ìŠ¤íƒ€ì¼)
    }

    function loop() {
        // ë°°ê²½ ì²­ì†Œ
        ctx.fillStyle = '#000';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // í”Œë ˆì´ì–´ ê·¸ë¦¬ê¸°
        ctx.fillStyle = gameState.player.color;
        ctx.shadowBlur = 15;
        ctx.shadowColor = gameState.player.color;
        ctx.fillRect(gameState.player.x, gameState.player.y, gameState.player.size, gameState.player.size);

        // ì¥ì• ë¬¼ ìƒì„± (3D ëŠë‚Œì˜ ë‹¤ê°€ì˜¤ëŠ” ì ë“¤)
        gameState.frame++;
        if (gameState.frame % Math.max(1, (20 - gameState.difficulty)) === 0) {
            gameState.enemies.push({
                x: canvas.width,
                y: Math.random() * canvas.height,
                w: 20 + (gameState.id % 30),
                h: 20,
                c: `hsl(${(gameState.id + gameState.frame) % 360}, 80%, 60%)`
            });
        }

        // ì¥ì• ë¬¼ ì´ë™ ë° ê·¸ë¦¬ê¸°
        gameState.enemies.forEach((en, index) => {
            en.x -= gameState.speed;
            ctx.fillStyle = en.c;
            ctx.fillRect(en.x, en.y, en.w, en.h);

            // ì¶©ëŒ ì²´í¬
            if (gameState.player.x < en.x + en.w &&
                gameState.player.x + gameState.player.size > en.x &&
                gameState.player.y < en.y + en.h &&
                gameState.player.y + gameState.player.size > en.y) {
                gameState.score = 0; // ë°ë¯¸ì§€!
            }
        });

        // í™”ë©´ ë°– ì  ì œê±°
        gameState.enemies = gameState.enemies.filter(en => en.x > -50);

        animationId = requestAnimationFrame(loop);
    }

    function stopGame() {
        cancelAnimationFrame(animationId);
        view.style.display = 'none';
    }
</script>
</body>
</html>
